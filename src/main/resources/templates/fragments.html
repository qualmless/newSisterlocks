<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">

<!--styles import--------------------------------------------------------------------------------------------->

<head th:fragment="head">
    <!-- Bootstrap stylesheets and script -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link th:href="@{styles.css}" rel="stylesheet" />
</head>

<body>

<!--header/navbar--------------------------------------------------------------------------------------------->
    <div th:fragment="page-header" class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
        <div>
            <div class="navbar">
                <ul class="navbar-nav mr-auto">
                    <li><a th:href="@{/search}">Search</a></li>
                    <li><a th:href="@{/list}">List</a></li>
                </ul>
            </div>
        </div>
    </div>

<!--TODO: connect search-->
<!--search form----------------------------------------------------------------------------------------------->
    <div th:fragment="search-form" class="my-form">
    <form th:action="@{/search/results}" method = "post">
        <h2>Search by:</h2>

        <p>
            <label for="consultant">Consultant</label>
            <input type="checkbox"
                   name="consultant"
                   id="consultant"
                   value="consultant"/>

            <label for="trainee">Trainee</label>
            <input type="checkbox"
                   name="trainee"
                   id="trainee"
                   value="trainee"/>

            <label for="salonOnly">Salon Only</label>
            <input type="checkbox"
                   name="salonOnly"
                   id="salonOnly"
                   value="salonOnly"/>
            <br>
            <label for="zipCode">Zip Code:</label>
            <input type="text" name="zipCode" id="zipCode" />
            <label for="radius">Radius: </label>
            <select id = "radius">
                <option value = "5">5 miles</option>
                <option value = "10">10 miles</option>
                <option value = "20">20 miles</option>
                <option value = "50">50 miles</option>
                <option value = "100">100 miles</option>
                <option value = "any">Any distance</option>
            </select>
        </p>

        <input type="submit" value="Search" />
    </form>
    </div>


<!--TODO: make this fragment work or figure out how to list -->

<!--consultant list-------------------------------------------------------------------------------------->

    <table th:fragment="list-consultants-results" class="centeredTable consultants-table-index">
        <tr>
            <!--TODO: why are the headers in the wrong order -->
            <th:block th:each="column : ${columns}">
                <th th:text = "${column.value}"></th>
            </th:block>
        </tr>

            <!--TODO: figure out the format for the table so it's not a list-->

<!--individual cells but the wrong number-->
<!--        <tr th:each="category : ${tableChoices}">-->
<!--            <td th:each="item : ${category.value}" >-->
<!--                <a th:href="@{/list/consultants(column=${category.key},value=${item})}" th:text="${item}"></a>-->
<!--            </td>-->
<!--        </tr>-->

<!--the right number but an array prints -->
<!--        <tr th:each="category : ${tableChoices}">-->
<!--            <td th:each="item : ${category}" >-->
<!--                <a th:href="@{/list/consultants(column=${category.key},value=${item})}" th:text="${tableChoices.name}"></a>-->
<!--            </td>-->
<!--            <td th:text="${tableChoices.city}"></td>-->
<!--        </tr>        -->

<!--        one name prints but just the one-->
<!--        <tr th:each="name : ${tableChoices.name}">-->
<!--            <td th:each="item : ${name}" th:text="${name}">-->
<!--                <a th:href="@{/list/consultants(column=${category.key},value=${name})}" th:text="${name}"></a>-->
<!--            </td>-->
<!--            <td th:each="item : ${city}" th:text="${city}"></td>-->
<!--        </tr>        -->

<!--all boxes print but are empty-->
<!--        <tr th:each="name : ${tableChoices.name}">-->
<!--            <td th:each="item : ${name}" th:text="${name}">-->
<!--                <a th:href="@{/list/consultants(column=${category.key},value=${name})}" th:text="${name}"></a>-->
<!--            </td>-->
<!--            <td th:each="item : ${name}" th:text="${city}"></td>-->
<!--        </tr>-->


<!--each row prints all names but they're all the same so that's good-->
<!--        <tr th:each="name : ${tableChoices.name}">-->
<!--            <td th:each="item : ${tableChoices}" th:text="${name.value}"></td> &lt;!&ndash;//this makes all names&ndash;&gt;-->
<!--            <td th:each="item : ${tableChoices}" th:text="${city.value}"></td>-->
<!--            <td th:each="item : ${name}" th:text="${city}"></td>-->
<!--        </tr>-->

        <tr th:each="name : ${tableChoices.name}">
            <td th:each="name : ${tableChoices.name}" th:text="${name.value}"></td> <!--//this makes all names-->
            <td th:each="city : ${tableChoices.city}" th:text="${city.value}"></td> <!--//this makes all names-->
            <td th:each="state : ${tableChoices.state}" th:text="${state.value}"></td> <!--//this makes all names-->
            <td th:each="zipCode : ${tableChoices.zipCode}" th:text="${zipCode.value}"></td> <!--//this makes all names-->
        </tr>



    </table>







<!--table of consultants fragment-->
<!--    <table th:fragment="list-consultants-loop" class="consultant-listing" >-->
<!--        <tr th:each="consultant : ${allConsultants}">-->
<!--            <td th:utext="-->
<!--            'ID: ' + ${consultant.id} + '<br>'+-->
<!--            'Name: ' + ${consultant.name} + '<br>'+-->
<!--            'Phone Number: ' + ${consultant.phoneNumber} + '<br>'+-->
<!--            'Email: ' + ${consultant.email} + '<br>'+-->
<!--            'Address: ' + ${consultant.address} + '<br>'+-->
<!--            'City: ' + ${consultant.city} + '<br>'+-->
<!--            'State: ' + ${consultant.state} + '<br>'+-->
<!--            'Zip: ' + ${consultant.zip} + '<br>'+-->
<!--            'Trainee or Consultant: ' + ${consultant.traineeOrConsultant} + '<br>'+-->
<!--            'Salon or Home: ' + ${consultant.salonOrHome} + '<br>'+-->
<!--            'Salon Name (if applicable): ' + ${consultant.salonName} + '<br>'"></td>-->
<!--        </tr>-->

<!--    </table>-->

</body>
</html>